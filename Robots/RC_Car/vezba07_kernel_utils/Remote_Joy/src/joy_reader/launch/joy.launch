<launch>
	<env name="ROSCONSOLE_FORMAT" value="[${severity}][${node}]: ${message}"/>

	<!-- Joystick Device Argument -->

	<arg name="joy_dev" />
	<arg name="joy_dev_ff" default="/dev/input/event0" />

	<node
		name="joy_drv"
		pkg="joy"
		type="joy_node"
		clear_params="true"
		output="screen"
		respawn="true"
	>
		<param name="dev" value="$(arg joy_dev)"/>
		<param name="dev_ff" value="$(arg joy_dev_ff)"/>
		<param name="deadzone" value="0.12"/>
		<param name="autorepeat_rate" value="25"/>
		<!-- Output topics -->
		<remap from="joy" to="/joy_raw"/>
	</node>

	<node
		name="joy_remapper"
		pkg="joy_reader"
		type="joy_remapper.py"
		output="screen"
		respawn="true"
	>
		<param name="joy_dev" value="$(arg joy_dev)"/>
		<remap from="joy_src" to="/joy_raw" />
		<remap from="joy_dst" to="/joy" />
	</node>
	<node
		if="false"
		name="set_log_level__joy_remapper"
		pkg="rosservice"
		type="rosservice"
		args="call /joy_remapper/set_logger_level \'{logger: rospy, level: debug}\'"
	/>
</launch>
